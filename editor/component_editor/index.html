<!DOCTYPE html>

<html>
<head>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" />
    <!-- only one comment -->
    <title>CAD Primitive Editor</title>

    <link rel="stylesheet" type="text/css" href="../static/x3dom.css"/>

    <script type="text/javascript" src="../../../x3dom/src/lang/Array.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Internals.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/debug.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/AdaptiveRenderControl.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/DownloadManager.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/RefinementJobManager.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/RefinementJobWorker.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/Properties.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/DoublyLinkedList.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/EarClipping.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/Utils.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/States.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/StateManager.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/BinaryContainerSetup.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/DrawableCollection.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/BVH.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/X3DCanvas.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Runtime.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Main.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Cache.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Texture.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/Shader.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderParts.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderDynamic.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderDynamicMobile.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderComposed.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderNormal.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderPicking.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderPicking24.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderPickingId.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderPickingColor.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderPickingTexcoord.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderFrontgroundTexture.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderBackgroundTexture.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderBackgroundSkyTexture.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderBackgroundCubeTexture.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderShadow.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderShadowRendering.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/shader/ShaderBlur.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/gfx_webgl.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/gfx_flash.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/X3DDocument.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/MatrixMixer.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Viewarea.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/Mesh.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/fields.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/NodeNameSpace.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Core.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Grouping.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Bindable.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Rendering.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Shape.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Lighting.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Followers.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Interpolation.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Time.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Networking.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/EnvironmentalEffects.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Navigation.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Text.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Sound.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Texturing.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Shaders.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Geometry3D.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Texturing3D.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Geospatial.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Geometry2D.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/VolumeRendering.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/CADGeometry.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/BVHRefiner.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/nodes/Geometry3DExt.js"></script>
    <script type="text/javascript" src="../../../x3dom/src/util/Moveable.js"></script>

    <script>
    if (typeof x3dom === "undefined")
    {
        document.write(
            '<script type="text/javascript" src="../static/x3dom-full.js"><\/script>');
    }
    </script>

    <link rel="stylesheet" type="text/css" href="../static/standard/jquery-ui-1.10.3.custom.css">
    <link rel="stylesheet" type="text/css" href="css/dialog.css">
    <link rel='stylesheet' type='text/css' href='../static/farbtastic.css'>
    <link rel='stylesheet' type='text/css' href='css/editor2D.css'>
    
    <link rel='stylesheet' type='text/css' href='css/screen.css'>
    <link rel='stylesheet' type='text/css' href='css/bottom.css'>
    <link rel='stylesheet' type='text/css' href='css/right.css'>
    <link rel='stylesheet' type='text/css' href='css/left.css'>
    <link rel='stylesheet' type='text/css' href='css/top.css'>
    <link rel='stylesheet' type='text/css' href='../static/jquery.switchbutton.css'>
    <link rel="stylesheet" type="text/css" href='../static/ui.dynatree.css'>
    
    <script type='text/javascript' src="../static/jquery-1.9.1.js"></script>
    <script type='text/javascript' src="../static/jquery-ui-1.10.3.custom.js"></script>
    <script type='text/javascript' src="../static/jquery.slimscroll.min.js"></script>
    <script type='text/javascript' src="../static/jquery.switchbutton.js"></script>
    <script type="text/javascript" src="../static/jquery.dynatree.js"></script>

    <script type='text/javascript' src="js/Snapping/SnapPointCreate.js"></script>
    <script type='text/javascript' src="js/Snapping/CreateLine.js"></script>
    <script type='text/javascript' src="js/Snapping/SnapJSON.js"></script>
    <script type='text/javascript' src="js/Snapping/SnappingArray.js"></script>
    <script type='text/javascript' src="js/Snapping/SnapObserver.js"></script>
    <script type='text/javascript' src="js/Snapping/SnapSubject.js"></script>
    <script type='text/javascript' src="js/Snapping/SnapInherits.js"></script>
    <script type='text/javascript' src="js/Snapping/Snapping.js"></script>

    <script type='text/javascript' src="js/TransformableObject.js"></script>
    <script type='text/javascript' src="js/PrimitiveManager.js"></script>
    <script type='text/javascript' src="js/Group.js"></script>
    <script type='text/javascript' src="js/UI.js"></script>
    <script type='text/javascript' src="js/Controller.js"></script>
    <script type='text/javascript' src="js/StorageManager.js"></script>
    <script type='text/javascript' src="js/main.js"></script>

    <script type='text/javascript' src='../static/farbtastic.js'></script>
    <script type='text/javascript' src="js/jquery.editor2D.js"></script>
</head>

<body>
<div id="Oben">
    <div id="fileMenu" class="header">
        <ul class="nav">
            <li><a>Scene</a>
                <ul>
                    <li><a href="#" id="newFile" onclick="primitiveManager.removeAllObjects()" onmouseover="this.style.cursor='pointer';">New</a></li>
                    <li><a href="#" id="loadFile" onmouseover="this.style.cursor='pointer';">Fetch...</a></li>
                    <li><a href="#" id="saveFile" onmouseover="this.style.cursor='pointer';" onclick="storageManager.saveScene();">Store...</a></li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="header">
        <ul class="nav">
            <li><a>Debug</a>
                <ul>
                    <li><a href="#" id="onOffStatistic" onclick="ui.showStatistik(this.id);" onmouseover="this.style.cursor='pointer';">Stats</a><img id="onOffStatistic_tick" src="images/tick.png" style="visibility: hidden;" class="onOffTick" /></li>
                    <li><a href="#" id="onOffInfo" onclick="ui.showInfo(this.id);" onmouseover="this.style.cursor='pointer';">Log</a><img id="onOffInfo_tick" src="images/tick.png" style="visibility: hidden;" class="onOffTick" /></li>
                    <li><a href="#" id="togglePolyMode" onclick="ui.togglePoints(this);" onmouseover="this.style.cursor='pointer';">Points</a></li>
                </ul>
            </li>
        </ul>
    </div>
    
    <!--<div class="header">
        <ul class="nav">
            <li><a>Highlight</a>
                <ul>
                    <li><a id="onOffPrimitive" onclick="primitiveManager.showPrimitiveHighlighting(this.id);" onmouseover="this.style.cursor='pointer';">Primitive</a><img id="onOffPrimitive_tick" src="images/tick.png" class="onOffTick" /></li>
                    <li><a id="onOffBBox" onclick="primitiveManager.showBoundingVolumeHighlighting(this.id);" onmouseover="this.style.cursor='pointer';">BBox</a><img id="onOffBBox_tick" src="images/tick.png" class="onOffTick" /></li>
                </ul>
            </li>
        </ul>
    </div>-->

    <div>
        <select id="Viewpoints" class="Views" title="Viewpoint of camera can be chosen" onchange="controller.setViewpoint(value);" onmouseover="this.style.cursor='pointer';">
            <option value='free'>Free View</option>
            <option value='front'>Front View</option>
            <option value='back'>Rear View</option>
            <option value='right'>Right View</option>
            <option value='left'>Left View</option>
            <option value='top'>Top View</option>
            <option value='bottom'>Bottom View</option>
            <option value='all'>Show All</option>
        </select>
    </div>

    <div class="leftBorder"><img title="Toggles raster plane on/off" src="images/plane_png.png" id="DeletePlane" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.removePlane();"/></div>
    <div class="rightBorder"><img title="Toggles axis cross on/off" src="images/axis_png.png" id="DeleteAxis" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.removeAxis();"/></div>
    <div class="leftBorder"><img title="Activates navigation mode and deselects all primitives" src="images/hand_png.png" id="ButtonHand" onmouseover="this.style.cursor='pointer';" 
                                onclick="controller.Activate('hand'); primitiveManager.clearSelection();"/></div>
    <div class="buttonTop"><img title="Activates translation mode of selected primitives" src="images/verschieben_png.png" id="ButtonVerschieben" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.Activate('translation');primitiveManager.updateTransformUIFromCurrentObject();"/></div>
    <div class="buttonTop"><img title="Activates scaling mode of selected primitives"  src="images/skalieren_png.png" id="ButtonSkalieren" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.Activate('scale');primitiveManager.updateTransformUIFromCurrentObject();"/></div>
    <div class="rightBorder"><img title="Activates rotation mode of selected primitives" src="images/drehen_png.png" id="ButtonRotieren" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.Activate('rotation');primitiveManager.updateTransformUIFromCurrentObject();"/></div>
    <div class="leftBorder"><img title="Snaps/Unsnaps the selected primitive to grid during translation" src="images/snapGrid_off.png" id="ButtonSnapToGrid" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.snapPrimitiveToGrid();"/></div>
    <div class="buttonTop"><img title="Activates snapping functionality between primitives" src="images/magnet_off.png" id="SnapPoints" onmouseover="this.style.cursor='pointer';"
                                onclick="snapping.init();"/></div>
    <div class="buttonTop"><img title="Creates a group of the selected primitives" src="images/group.png" id="ButtonGroup" onmouseover="this.style.cursor='pointer';"
                                onclick="primitiveManager.groupSelectedPrimitives();"/></div>
    <div class="buttonTop"><img title="Ungroups a selected group" src="images/ungroup.png" id="ButtonUngroup" onmouseover="this.style.cursor='pointer';"
                                onclick="primitiveManager.ungroupSelectedPrimitives();"/></div>
    <div class="buttonTop"><img title="If activated it saves automatically" src="images/autoSave_off.png" id="ButtonAutoSave" onmouseover="this.style.cursor='pointer';"
                                onclick="controller.autoSave(2);"/></div>
</div>


<div id="Unten">
        <div id="objectName">
            <p>
                <label for="primitiveName" class="objectLabel">Object:</label>
                <input type="text" title="Name of the selected primitive. Can be renamed in this field" id="primitiveName" onchange="primitiveManager.setObjectName();" class="amount" value=""/>
                <img title="Clones the selected primitive/group" src="images/clonePrimitiveGroup.png" id="clonePrimitiveGroup" onclick="primitiveManager.cloneObject()" onmouseover="this.style.cursor='pointer';"/>
                <img title="Removes the selected primitive (del)" src="images/delete.png" id="deletePrimitive" onclick="primitiveManager.removeCurrentObject();" onmouseover="this.style.cursor='pointer';"/>
            </p>
        </div>
        <div id="coordinatesValue">
            <p>
                <!--<label id="transformMode" class="text-slider"> </label>-->
                <label class="text-slider">X:</label><input id="amountX" class="amount" type="text" onchange="primitiveManager.updatePrimitiveTransformFromUI();"/>
                <label class="text-slider">Y:</label><input id="amountY" class="amount" type="text" onchange="primitiveManager.updatePrimitiveTransformFromUI();"/>
                <label class="text-slider">Z:</label><input id="amountZ" class="amount" type="text" onchange="primitiveManager.updatePrimitiveTransformFromUI();"/>
            </p>
        </div>
</div>


<div id="Links"> 
    <div id="leftBar"> 
        <div id="accordion_left">
            <h3>Primitives</h3>
            <div id="divs"> </div>
            
            <h3>Tree View</h3>
            <div id='treeview'>
                <div id="tree">
                </div>
            </div>
        </div>
    </div>
    <div id="button_Links" onclick="ui.fadeLeft();" onmouseover="this.style.cursor='pointer';"> </div>
</div>


<div id="Rechts">
    <div id="rechtInnen">
        <div id="accordeon-oben">
            <h3>Properties</h3>
            <div id="properties"> </div>

            <h3>Material Editor</h3>
            <div id="colors">
                <center><div id='picker' class='picker'> </div></center>
                <div class='form-item'><div class='colorLabel'>Diffuse</div><input type='text' id='diffuse' name='color1' class='colorwell' value='#3F7EBD' onchange='primitiveManager.changePrimitiveMaterial(this.id);'/></div>
                <div class='form-item'><div class='colorLabel'>Specular</div><input type='text' id='specular' name='color2' class='colorwell' value='#000000' onchange='primitiveManager.changePrimitiveMaterial(this.id);'/></div>
                <div class='form-item'><div class='colorLabel'>Emissive</div><input type='text' id='emissive' name='color3' class='colorwell' value='#000000' onchange='primitiveManager.changePrimitiveMaterial(this.id);'/></div>
                <div class='form-item'><div class='colorLabel'>Transparency</div><input type='text' id='transparency' value='0.3' onchange='primitiveManager.changePrimitiveMaterial(this.id);'/></div>
                <div class='form-item'><div class='colorLabel'>Shininess</div><input type='text' id='shininess' value='0.3' onchange='primitiveManager.changePrimitiveMaterial(this.id);'/></div>         
            </div>
        </div>
    </div>
    <div id="button_Rechts" onclick="ui.fadeRight();" onmouseover="this.style.cursor='pointer';"> </div>
</div>
    
<img src="images/warning.png" id="warning" title="Your work isn't complete right now. Please add an 'Origin' and the 'Reference Points'" />    

<div id="Editor2D-Overlay">
    <div id="Editor2D-Container">
        <canvas id="Editor2D-Canvas" width="600" height="400"></canvas>
        <div id="Editor2D-Menu">
            <div class="Editor2D-Menu-Head"></div>
            <div class="Editor2D-Menu-Separator"></div>
            <a id="Editor2D-Icon-New" href="javascript:ui.editor2D_new();" title="New"></a>
            <div class="Editor2D-Menu-Separator"></div>
            <a id="Editor2D-Icon-Pen" class="Editor2D-Icon-Pen-Active" href="javascript:ui.editor2D_mode(0);" title="Pen Tool" ></a>
            <a id="Editor2D-Icon-Pointer" class="Editor2D-Icon-Pointer" href="javascript:ui.editor2D_mode(1);" title="Pointer Tool"></a>
            <a id="Editor2D-Icon-Eraser" class="Editor2D-Icon-Eraser" href="javascript:ui.editor2D_mode(2);" title="Eraser Tool"></a>
            <div class="Editor2D-Menu-Separator"></div>
            <a id="Editor2D-Icon-Snap" class="Editor2D-Icon-Snap-Active" href="javascript:ui.editor2D_toggleSnap();" title="Snap to Grid"></a>
            <a id="Editor2D-Icon-Move" class="Editor2D-Icon-Move" href="javascript:ui.editor2D_mode(3);" title="Move Tool"></a>
            <a id="Editor2D-Icon-Zoom" class="Editor2D-Icon-Zoom" href="javascript:ui.editor2D_mode(4);" title="Zoom Tool"></a>
            <div class="Editor2D-Menu-Separator"></div>
            <a id="Editor2D-Icon-Abort" class="Editor2D-Icon-Abort" href="javascript:ui.editor2D_hide();" title="Abort"></a>
            <a id="Editor2D-Icon-Accept" class="Editor2D-Icon-Accept-Inactive" href="javascript:ui.editor2D_create();" title="Create"></a>
        </div>
    </div>
</div>

<div id="contextMenu">
    <div id="innerContextMenu"></div>
</div>

<div id="x3d-view">
    <x3d id="x3d" showStat="false" showLog="false"
         onkeydown="if ((event || window.event).keyCode == 46){ primitiveManager.removeCurrentObject(); /*46 = DEL*/ }"
         ondrop="controller.drop(event)" ondragover="controller.allowDrop(event)">
        <scene onbackgroundClicked="ui.createElemOnClick(event);">
            <viewpoint id="viewPoint" zNear="0.1"
                       position="8.36 9.81 16.91" orientation="-0.69262 0.71082 0.12256 0.61209">
            </viewpoint>
            <orthoviewpoint id="orthoViewPointFront" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="0 0 10" orientation="0 1 0 0">
            </orthoviewpoint>
            <orthoviewpoint id="orthoViewPointBack" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="0 0 -10" orientation="0 1 0 3.14159265359">
            </orthoviewpoint>
            <orthoviewpoint id="orthoViewPointTop" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="0 10 0" orientation="-1 0 0 1.57079632679">
            </orthoviewpoint>
            <orthoviewpoint id="orthoViewPointBottom" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="0 -10 0" orientation="1 0 0 1.57079632679">
            </orthoviewpoint>
            <orthoviewpoint id="orthoViewPointLeft" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="-10 0 0" orientation="0 -1 0 1.57079632679">
            </orthoviewpoint>
            <orthoviewpoint id="orthoViewPointRight" zNear="0.01" zFar="10000" fieldOfView="-7.5 -7.5 7.5 7.5"
                            position="10 0 0" orientation="0 1 0 1.57079632679">
            </orthoviewpoint>
            
            <navigationInfo id="navi" type='"EXAMINE" "ANY"'></navigationInfo>


            <transform id="planeId" rotation="1 0 0 -1.57079632679">
                <Shape id="plane" isPickable="false">
                    <Appearance sortKey="-1">
                        <Material emissiveColor='0.2 0.2 0.2'></Material>
                        <DepthMode id="depthMode" readOnly="false"></DepthMode>
                    </Appearance>
                    <Plane solid="false" size='25 25' primType='LINES' subdivision='50 50'>
                    </Plane>
                </Shape>
            </transform>

            <transform rotation="1 0 0 -1.57079632679">
                <transform id="axis">
                    <inline url="x3d/axis.x3d"></inline>
                </transform>
            </transform>

            <matrixTransform id="bbox_transform">
                <Shape isPickable="false" DEF="line">
                    <IndexedLineSet coordIndex="0 1 2 3 0 -1, 4 5 6 7 4 -1, 0 4 -1, 1 5 -1, 2 6 -1, 3 7 -1">
                        <Coordinate id="bbox_points" point="0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0">
                        </Coordinate>
                        <Color color="1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0">
                        </Color>
                    </IndexedLineSet>
                </Shape>
            </matrixTransform>

            <transform id="root" translation="0 0 0"></transform>

            <transform id="snapPoints"></transform>
            <transform id="snapLines"></transform>
        </scene>
    </x3d>
</div>

</body>
</html>
